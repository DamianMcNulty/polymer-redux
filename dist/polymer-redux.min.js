(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?module.exports=b():'function'==typeof define&&define.amd?define(b):a.PolymerRedux=b()})(this,function(){'use strict';return function(a){var b=new Map,c=function(f,g){if(!b.has(f)){var h=Object.keys(g).filter(function(q){var r=g[q];return!!r.hasOwnProperty('statePath')&&(!r.readOnly&&r.notify&&console.warn('PolymerRedux: <'+(f.constructor.is+'>.')+(q+' has "notify" enabled, two-way bindings goes against Redux\'s paradigm')),!0)}),i=function(q){h.forEach(function(r){var s=g[r],t=s.statePath,u=s.readOnly,v='function'==typeof t?t.call(f,q):Polymer.Path.get(q,t);u?f._setProperty(r,v):f[r]=v})},j=a.subscribe(function(){var q=a.getState();i(q),f.dispatchEvent(new CustomEvent('state-changed',{detail:q}))});return b.set(f,j),i(a.getState())}},d=function(f){var g=b.get(f);'function'==typeof g&&g()},e=function(f,g){for(var h={};f;)h=Object.assign({},f[g],h),f=Object.getPrototypeOf(f);return h};return function(f){return class extends f{connectedCallback(){super.connectedCallback();var g=e(this.constructor,'properties');c(this,g);var h=e(this.constructor,'actions');Object.defineProperty(this,'_reduxActions',{value:h})}disconnectedCallback(){super.disconnectedCallback(),d(this)}dispatch(){for(var g=this._reduxActions,h=arguments.length,i=Array(h),j=0;j<h;j++)i[j]=arguments[j];var k=i[0];if('string'==typeof k){if(!g||'function'!=typeof g[k])throw new TypeError('PolymerRedux: <'+(this.constructor.is+'> has no action creator "')+k+'"');k=g[k].apply(this.constructor,i.slice(1))}return a.dispatch(k)}getState(){return a.getState()}}}}});